<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç­”é¡ŒéŸ³æ•ˆæ¸¬è©¦ - PBLS VRæ•™å­¸å¹³å°</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="quiz_sound_manager.js"></script>
    <style>
        body {
            font-family: 'Microsoft JhengHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .test-container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            max-width: 600px;
            width: 100%;
            text-align: center;
        }

        h1 {
            color: #2c3e50;
            margin-bottom: 30px;
            font-size: 28px;
        }

        .test-section {
            margin: 30px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 4px solid #3498db;
        }

        .test-section h3 {
            color: #2c3e50;
            margin-bottom: 15px;
        }

        .test-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin: 20px 0;
        }

        .test-btn {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
        }

        .test-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(52, 152, 219, 0.4);
        }

        .test-btn.success {
            background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%);
            box-shadow: 0 4px 15px rgba(39, 174, 96, 0.3);
        }

        .test-btn.success:hover {
            box-shadow: 0 6px 20px rgba(39, 174, 96, 0.4);
        }

        .test-btn.fail {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            box-shadow: 0 4px 15px rgba(231, 76, 60, 0.3);
        }

        .test-btn.fail:hover {
            box-shadow: 0 6px 20px rgba(231, 76, 60, 0.4);
        }

        .test-btn.countdown {
            background: linear-gradient(135deg, #8e44ad 0%, #9b59b6 100%);
            box-shadow: 0 4px 15px rgba(142, 68, 173, 0.3);
        }

        .test-btn.countdown:hover {
            box-shadow: 0 6px 20px rgba(142, 68, 173, 0.4);
        }

        .status {
            margin: 20px 0;
            padding: 15px;
            border-radius: 8px;
            font-weight: 500;
        }

        .status.success {
            background: #d5f4e6;
            color: #27ae60;
            border: 1px solid #27ae60;
        }

        .status.error {
            background: #fadbd8;
            color: #e74c3c;
            border: 1px solid #e74c3c;
        }

        .status.info {
            background: #e3f2fd;
            color: #1976d2;
            border: 1px solid #1976d2;
        }

        .volume-control {
            margin: 20px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .volume-slider {
            width: 200px;
            height: 6px;
            border-radius: 3px;
            background: #ddd;
            outline: none;
            -webkit-appearance: none;
        }

        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #3498db;
            cursor: pointer;
        }

        .volume-slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #3498db;
            cursor: pointer;
            border: none;
        }

        .demo-scenario {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: left;
        }

        .demo-scenario h4 {
            color: #856404;
            margin-bottom: 10px;
        }

        .demo-scenario p {
            color: #856404;
            margin: 5px 0;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>ğŸµ ç­”é¡ŒéŸ³æ•ˆæ¸¬è©¦</h1>
        
        <div class="status info" id="status">
            æ­£åœ¨åˆå§‹åŒ–éŸ³æ•ˆç³»çµ±...
        </div>

        <div class="volume-control">
            <label for="volume-slider">éŸ³é‡æ§åˆ¶ï¼š</label>
            <input type="range" id="volume-slider" class="volume-slider" min="0" max="1" step="0.1" value="0.7">
            <span id="volume-display">70%</span>
        </div>

        <div class="test-section">
            <h3>ğŸ¯ å–®ç¨éŸ³æ•ˆæ¸¬è©¦</h3>
            <p>æ¸¬è©¦å„å€‹éŸ³æ•ˆçš„æ’­æ”¾æ•ˆæœ</p>
            <div class="test-buttons">
                <button class="test-btn countdown" onclick="testCountdownSound()">
                    <i class="fas fa-clock"></i> ç­”é¡Œå€’æ•¸éŸ³æ•ˆ
                </button>
                <button class="test-btn" onclick="testQuestionSound()">
                    <i class="fas fa-play"></i> ç­”é¡ŒéŸ³æ•ˆ
                </button>
                <button class="test-btn success" onclick="testCorrectSound()">
                    <i class="fas fa-check"></i> æ­£ç¢ºéŸ³æ•ˆ
                </button>
                <button class="test-btn fail" onclick="testWrongSound()">
                    <i class="fas fa-times"></i> éŒ¯èª¤éŸ³æ•ˆ
                </button>
                <button class="test-btn" onclick="stopAllSounds()">
                    <i class="fas fa-stop"></i> åœæ­¢æ‰€æœ‰éŸ³æ•ˆ
                </button>
            </div>
        </div>

        <div class="test-section">
            <h3>ğŸ”„ å®Œæ•´æµç¨‹æ¸¬è©¦</h3>
            <p>æ¨¡æ“¬å®Œæ•´çš„ç­”é¡Œæµç¨‹</p>
            <div class="test-buttons">
                <button class="test-btn" onclick="simulateQuizStart()">
                    <i class="fas fa-play"></i> æ¨¡æ“¬æ¸¬é©—é–‹å§‹
                </button>
                <button class="test-btn" onclick="simulateCorrectAnswer()">
                    <i class="fas fa-play"></i> æ¨¡æ“¬ç­”å°æµç¨‹
                </button>
                <button class="test-btn" onclick="simulateWrongAnswer()">
                    <i class="fas fa-play"></i> æ¨¡æ“¬ç­”éŒ¯æµç¨‹
                </button>
            </div>
        </div>

        <div class="demo-scenario">
            <h4>ğŸ“‹ éŸ³æ•ˆæµç¨‹èªªæ˜</h4>
            <p><strong>ç­”é¡Œå€’æ•¸éŸ³æ•ˆï¼š</strong>é€²å…¥è€ƒè©¦å°ˆå€æ™‚æ’­æ”¾ï¼ˆéŸ³é‡é™ä½70%ï¼‰ï¼Œæ’­å®Œå¾Œé€²å…¥ç¬¬ä¸€é¡Œ</p>
            <p><strong>ç­”é¡ŒéŸ³æ•ˆï¼š</strong>æ¯é¡Œé–‹å§‹æ™‚å»¶é²0.5ç§’å¾Œå¾ªç’°æ’­æ”¾ï¼ˆæœ€å¤§éŸ³é‡100%ï¼‰ï¼Œç›´åˆ°é¸æ“‡ç­”æ¡ˆ</p>
            <p><strong>æ­£ç¢ºéŸ³æ•ˆï¼š</strong>ç­”å°æ™‚æ’­æ”¾ï¼ˆéŸ³é‡é™ä½30%ï¼‰ï¼Œåœæ­¢ç­”é¡ŒéŸ³æ•ˆ</p>
            <p><strong>éŒ¯èª¤éŸ³æ•ˆï¼š</strong>ç­”éŒ¯æˆ–è¶…æ™‚æ™‚æ’­æ”¾ï¼ˆéŸ³é‡é™ä½30%ï¼‰ï¼Œåœæ­¢ç­”é¡ŒéŸ³æ•ˆ</p>
            <p><strong>å®Œæ•´æµç¨‹ï¼š</strong>å€’æ•¸éŸ³æ•ˆ â†’ 0.5ç§’å»¶é² â†’ ç­”é¡ŒéŸ³æ•ˆ â†’ é¸æ“‡ç­”æ¡ˆ â†’ å°éŒ¯éŸ³æ•ˆ â†’ 0.5ç§’å»¶é² â†’ ä¸‹ä¸€é¡Œç­”é¡ŒéŸ³æ•ˆ</p>
        </div>

        <div class="demo-scenario">
            <h4>âœ… è¦–è¦ºåé¥‹èªªæ˜</h4>
            <p><strong>æ­£ç¢ºç­”æ¡ˆï¼š</strong>ç¶ è‰²é‚Šæ¡† + ç¶ è‰²æ–‡å­— + ç¶ è‰²å‹¾å‹¾åœ–æ¨™ï¼ˆâœ“ï¼‰</p>
            <p><strong>éŒ¯èª¤ç­”æ¡ˆï¼š</strong>ç´…è‰²é‚Šæ¡† + ç´…è‰²æ–‡å­— + ç´…è‰²å‰å‰åœ–æ¨™ï¼ˆâœ—ï¼‰</p>
            <p><strong>åœ–æ¨™ä½ç½®ï¼š</strong>é¡¯ç¤ºåœ¨é¸é …å³å´ï¼Œå‚ç›´ç½®ä¸­</p>
        </div>

        <div class="test-buttons">
            <button class="test-btn" onclick="window.location.href='exam_quiz.html'">
                <i class="fas fa-arrow-left"></i> è¿”å›æ¸¬é©—é é¢
            </button>
        </div>
    </div>

    <script>
        let isInitialized = false;

        // é é¢è¼‰å…¥æ™‚åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', async function() {
            try {
                await window.quizSoundManager.init();
                isInitialized = true;
                updateStatus('âœ… éŸ³æ•ˆç³»çµ±åˆå§‹åŒ–æˆåŠŸï¼', 'success');
            } catch (error) {
                updateStatus('âŒ éŸ³æ•ˆç³»çµ±åˆå§‹åŒ–å¤±æ•—: ' + error.message, 'error');
            }
        });

        // éŸ³é‡æ§åˆ¶
        document.getElementById('volume-slider').addEventListener('input', function() {
            const volume = parseFloat(this.value);
            window.quizSoundManager.setVolume(volume);
            document.getElementById('volume-display').textContent = Math.round(volume * 100) + '%';
        });

        function updateStatus(message, type) {
            const status = document.getElementById('status');
            status.textContent = message;
            status.className = `status ${type}`;
        }

        // æ¸¬è©¦ç­”é¡Œå€’æ•¸éŸ³æ•ˆ
        function testCountdownSound() {
            if (!isInitialized) {
                updateStatus('âŒ éŸ³æ•ˆç³»çµ±æœªåˆå§‹åŒ–', 'error');
                return;
            }
            updateStatus('ğŸµ æ’­æ”¾ç­”é¡Œå€’æ•¸éŸ³æ•ˆ...', 'info');
            window.quizSoundManager.playCountdown();
        }

        // æ¸¬è©¦ç­”é¡ŒéŸ³æ•ˆ
        function testQuestionSound() {
            if (!isInitialized) {
                updateStatus('âŒ éŸ³æ•ˆç³»çµ±æœªåˆå§‹åŒ–', 'error');
                return;
            }
            updateStatus('ğŸµ æ’­æ”¾ç­”é¡ŒéŸ³æ•ˆï¼ˆå¾ªç’°æ’­æ”¾ï¼‰...', 'info');
            window.quizSoundManager.playQuestion();
        }

        // æ¸¬è©¦æ­£ç¢ºéŸ³æ•ˆ
        function testCorrectSound() {
            if (!isInitialized) {
                updateStatus('âŒ éŸ³æ•ˆç³»çµ±æœªåˆå§‹åŒ–', 'error');
                return;
            }
            updateStatus('ğŸµ æ’­æ”¾æ­£ç¢ºéŸ³æ•ˆ...', 'info');
            window.quizSoundManager.playCorrect();
        }

        // æ¸¬è©¦éŒ¯èª¤éŸ³æ•ˆ
        function testWrongSound() {
            if (!isInitialized) {
                updateStatus('âŒ éŸ³æ•ˆç³»çµ±æœªåˆå§‹åŒ–', 'error');
                return;
            }
            updateStatus('ğŸµ æ’­æ”¾éŒ¯èª¤éŸ³æ•ˆ...', 'info');
            window.quizSoundManager.playWrong();
        }

        // åœæ­¢æ‰€æœ‰éŸ³æ•ˆ
        function stopAllSounds() {
            if (!isInitialized) {
                updateStatus('âŒ éŸ³æ•ˆç³»çµ±æœªåˆå§‹åŒ–', 'error');
                return;
            }
            window.quizSoundManager.stopAllSounds();
            updateStatus('ğŸ”‡ å·²åœæ­¢æ‰€æœ‰éŸ³æ•ˆ', 'info');
        }

        // æ¨¡æ“¬æ¸¬é©—é–‹å§‹
        function simulateQuizStart() {
            if (!isInitialized) {
                updateStatus('âŒ éŸ³æ•ˆç³»çµ±æœªåˆå§‹åŒ–', 'error');
                return;
            }
            
            updateStatus('ğŸ”„ æ¨¡æ“¬æ¸¬é©—é–‹å§‹ï¼šå€’æ•¸éŸ³æ•ˆ â†’ ç­”é¡ŒéŸ³æ•ˆ', 'info');
            
            // æ’­æ”¾å€’æ•¸éŸ³æ•ˆ
            window.quizSoundManager.playCountdown();
            
            // 3ç§’å¾Œæ’­æ”¾ç­”é¡ŒéŸ³æ•ˆ
            setTimeout(() => {
                window.quizSoundManager.playQuestion();
                updateStatus('âœ… æ¸¬é©—é–‹å§‹æµç¨‹å®Œæˆï¼', 'success');
            }, 3000);
        }

        // æ¨¡æ“¬ç­”å°æµç¨‹
        function simulateCorrectAnswer() {
            if (!isInitialized) {
                updateStatus('âŒ éŸ³æ•ˆç³»çµ±æœªåˆå§‹åŒ–', 'error');
                return;
            }
            
            updateStatus('ğŸ”„ æ¨¡æ“¬ç­”å°æµç¨‹ï¼šåœæ­¢ç­”é¡ŒéŸ³æ•ˆ â†’ æ’­æ”¾æ­£ç¢ºéŸ³æ•ˆ', 'info');
            
            // å…ˆæ’­æ”¾ç­”é¡ŒéŸ³æ•ˆ
            window.quizSoundManager.playQuestion();
            
            // 2ç§’å¾Œåœæ­¢ä¸¦æ’­æ”¾æ­£ç¢ºéŸ³æ•ˆ
            setTimeout(() => {
                window.quizSoundManager.stopCurrentSound();
                window.quizSoundManager.playCorrect();
                updateStatus('âœ… ç­”å°æµç¨‹å®Œæˆï¼', 'success');
            }, 2000);
        }

        // æ¨¡æ“¬ç­”éŒ¯æµç¨‹
        function simulateWrongAnswer() {
            if (!isInitialized) {
                updateStatus('âŒ éŸ³æ•ˆç³»çµ±æœªåˆå§‹åŒ–', 'error');
                return;
            }
            
            updateStatus('ğŸ”„ æ¨¡æ“¬ç­”éŒ¯æµç¨‹ï¼šåœæ­¢ç­”é¡ŒéŸ³æ•ˆ â†’ æ’­æ”¾éŒ¯èª¤éŸ³æ•ˆ', 'info');
            
            // å…ˆæ’­æ”¾ç­”é¡ŒéŸ³æ•ˆ
            window.quizSoundManager.playQuestion();
            
            // 2ç§’å¾Œåœæ­¢ä¸¦æ’­æ”¾éŒ¯èª¤éŸ³æ•ˆ
            setTimeout(() => {
                window.quizSoundManager.stopCurrentSound();
                window.quizSoundManager.playWrong();
                updateStatus('âŒ ç­”éŒ¯æµç¨‹å®Œæˆï¼', 'error');
            }, 2000);
        }
    </script>
</body>
</html>
