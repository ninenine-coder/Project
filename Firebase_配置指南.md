# Firebase Realtime Database é…ç½®æŒ‡å—

## ğŸ¯ åŠŸèƒ½èªªæ˜

æ‚¨çš„PBLS VRæ•™å­¸å¹³å°ç¾åœ¨å·²ç¶“é›†æˆäº†Firebase Realtime DatabaseåŠŸèƒ½ï¼Œå¯¦ç¾ä»¥ä¸‹ç‰¹æ€§ï¼š

### âœ¨ å·²å¯¦ç¾åŠŸèƒ½
- **å³æ™‚è§€çœ‹æ•¸çµ±è¨ˆ** - æ¯æ¬¡é»æ“Šæ’­æ”¾æŒ‰éˆ•ï¼Œè§€çœ‹æ•¸+1ä¸¦å³æ™‚æ¨æ’­åˆ°æ‰€æœ‰ç”¨æˆ¶
- **å³æ™‚æŒ‰è®šåŠŸèƒ½** - é»æ“Šæ„›å¿ƒæŒ‰éˆ•ï¼ŒæŒ‰è®šæ•¸+1ä¸¦å³æ™‚æ¨æ’­åˆ°æ‰€æœ‰ç”¨æˆ¶
- **å–®ä¸€å½±ç‰‡è¨­è¨ˆ** - é•·æ–¹å½¢å½±ç‰‡å¡ç‰‡ï¼ŒåŒ…å«æ¨™é¡Œã€æè¿°ã€çµ±è¨ˆæ•¸æ“š
- **è¦–è¦ºåé¥‹** - æ’­æ”¾é€šçŸ¥ã€æŒ‰è®šå‹•ç•«ã€æ‡¸åœæ•ˆæœ

## ğŸ”§ Firebase é…ç½®æ­¥é©Ÿ

### 1. å‰µå»ºFirebaseå°ˆæ¡ˆ
1. å‰å¾€ [Firebase Console](https://console.firebase.google.com/)
2. é»æ“Šã€Œæ–°å¢å°ˆæ¡ˆã€
3. è¼¸å…¥å°ˆæ¡ˆåç¨±ï¼š`pbls-vr-platform`
4. å•Ÿç”¨Google Analyticsï¼ˆå¯é¸ï¼‰

### 2. å•Ÿç”¨Realtime Database
1. åœ¨Firebase Consoleä¸­ï¼Œé»æ“Šã€ŒRealtime Databaseã€
2. é»æ“Šã€Œå»ºç«‹è³‡æ–™åº«ã€
3. é¸æ“‡ã€Œä»¥æ¸¬è©¦æ¨¡å¼å•Ÿå‹•ã€ï¼ˆç¨å¾Œå¯èª¿æ•´å®‰å…¨è¦å‰‡ï¼‰
4. é¸æ“‡è³‡æ–™åº«ä½ç½®ï¼ˆå»ºè­°é¸æ“‡asia-southeast1ï¼‰

### 3. ç²å–é…ç½®è³‡è¨Š
1. é»æ“Šå°ˆæ¡ˆè¨­å®šï¼ˆé½’è¼ªåœ–ç¤ºï¼‰
2. æ»¾å‹•åˆ°ã€Œæ‚¨çš„æ‡‰ç”¨ç¨‹å¼ã€å€æ®µ
3. é»æ“Šã€Œæ–°å¢æ‡‰ç”¨ç¨‹å¼ã€â†’ã€ŒWebæ‡‰ç”¨ç¨‹å¼ã€
4. è¼¸å…¥æ‡‰ç”¨ç¨‹å¼æš±ç¨±ï¼š`pbls-web-app`
5. è¤‡è£½é…ç½®ç‰©ä»¶

### 4. æ›´æ–°index.htmlé…ç½®
å°‡ä»¥ä¸‹ä»£ç¢¼ä¸­çš„é…ç½®æ›¿æ›ç‚ºæ‚¨çš„å¯¦éš›é…ç½®ï¼š

```javascript
const firebaseConfig = {
    apiKey: "æ‚¨çš„APIé‡‘é‘°",
    authDomain: "æ‚¨çš„å°ˆæ¡ˆ.firebaseapp.com",
    projectId: "æ‚¨çš„å°ˆæ¡ˆID",
    storageBucket: "æ‚¨çš„å°ˆæ¡ˆ.appspot.com",
    messagingSenderId: "æ‚¨çš„ç™¼é€è€…ID",
    appId: "æ‚¨çš„æ‡‰ç”¨ç¨‹å¼ID",
    databaseURL: "https://æ‚¨çš„å°ˆæ¡ˆ-default-rtdb.firebaseio.com/"
};
```

### 5. å•Ÿç”¨FirebaseåŠŸèƒ½
åœ¨index.htmlä¸­ï¼Œå–æ¶ˆè¨»é‡‹ä»¥ä¸‹ä»£ç¢¼ï¼š

```javascript
// å–æ¶ˆè¨»é‡‹é€™å…©è¡Œ
firebase.initializeApp(firebaseConfig);
const database = firebase.database();
```

### 6. å•Ÿç”¨å³æ™‚æ›´æ–°åŠŸèƒ½
å–æ¶ˆè¨»é‡‹ä»¥ä¸‹ä»£ç¢¼ä»¥å•Ÿç”¨å³æ™‚æ•¸æ“šåŒæ­¥ï¼š

```javascript
// åœ¨initVideoStats()å‡½æ•¸ä¸­
database.ref('videoStats').on('value', (snapshot) => {
    const data = snapshot.val();
    if (data) {
        videoStats = data;
        updateVideoStatsDisplay();
    }
});

// åœ¨loadVideoStats()å‡½æ•¸ä¸­
database.ref('videoStats').once('value').then((snapshot) => {
    const data = snapshot.val();
    if (data) {
        videoStats = data;
    } else {
        videoStats = { views: 0, likes: 0 };
        database.ref('videoStats').set(videoStats);
    }
    updateVideoStatsDisplay();
});

// åœ¨updateFirebaseStats()å‡½æ•¸ä¸­
database.ref(`videoStats/${field}`).set(value);
```

## ğŸ“Š æ•¸æ“šåº«çµæ§‹

Firebase Realtime Databaseå°‡ä½¿ç”¨ä»¥ä¸‹çµæ§‹ï¼š

```json
{
  "videoStats": {
    "views": 1234,
    "likes": 89
  }
}
```

## ğŸ”’ å®‰å…¨è¦å‰‡è¨­å®š

åœ¨Firebase Consoleçš„Realtime Database â†’ è¦å‰‡ä¸­ï¼Œè¨­å®šä»¥ä¸‹å®‰å…¨è¦å‰‡ï¼š

```json
{
  "rules": {
    "videoStats": {
      ".read": true,
      ".write": true
    }
  }
}
```

## ğŸ® ä½¿ç”¨æ–¹å¼

### æ’­æ”¾å½±ç‰‡
1. é»æ“Šå½±ç‰‡ç¸®åœ–ä¸Šçš„æ’­æ”¾æŒ‰éˆ•
2. è§€çœ‹æ•¸è‡ªå‹•+1
3. æ‰€æœ‰ç”¨æˆ¶çš„è§€çœ‹æ•¸å³æ™‚æ›´æ–°
4. é¡¯ç¤ºæ’­æ”¾é€šçŸ¥

### æŒ‰è®šåŠŸèƒ½
1. é»æ“Šæ„›å¿ƒåœ–ç¤º
2. æŒ‰è®šæ•¸+1ï¼Œåœ–ç¤ºè®Šç‚ºç´…è‰²å¯¦å¿ƒ
3. å†æ¬¡é»æ“Šå¯å–æ¶ˆæŒ‰è®š
4. æ‰€æœ‰ç”¨æˆ¶çš„æŒ‰è®šæ•¸å³æ™‚æ›´æ–°

## ğŸš€ æ¸¬è©¦åŠŸèƒ½

1. é–‹å•Ÿå¤šå€‹ç€è¦½å™¨è¦–çª—
2. åœ¨ä¸€å€‹è¦–çª—ä¸­é»æ“Šæ’­æ”¾æˆ–æŒ‰è®š
3. è§€å¯Ÿå…¶ä»–è¦–çª—ä¸­çš„æ•¸å­—å³æ™‚æ›´æ–°

## ğŸ“ æ³¨æ„äº‹é …

- ç¢ºä¿Firebaseå°ˆæ¡ˆå·²æ­£ç¢ºé…ç½®
- æª¢æŸ¥ç¶²è·¯é€£ç·š
- ç¢ºèªç€è¦½å™¨æ”¯æ´Firebase SDK
- æ¸¬è©¦æ™‚ä½¿ç”¨ä¸åŒçš„ç€è¦½å™¨æˆ–ç„¡ç—•æ¨¡å¼

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å¸¸è¦‹å•é¡Œ
1. **æ•¸æ“šä¸æ›´æ–°** - æª¢æŸ¥Firebaseé…ç½®æ˜¯å¦æ­£ç¢º
2. **æ¬Šé™éŒ¯èª¤** - ç¢ºèªå®‰å…¨è¦å‰‡è¨­å®š
3. **ç¶²è·¯éŒ¯èª¤** - æª¢æŸ¥ç¶²è·¯é€£ç·šå’Œé˜²ç«ç‰†è¨­å®š

### é™¤éŒ¯æ–¹æ³•
1. é–‹å•Ÿç€è¦½å™¨é–‹ç™¼è€…å·¥å…·
2. æŸ¥çœ‹Consoleæ˜¯å¦æœ‰éŒ¯èª¤è¨Šæ¯
3. æª¢æŸ¥Networkæ¨™ç±¤ä¸­çš„Firebaseè«‹æ±‚

---

**é…ç½®å®Œæˆå¾Œï¼Œæ‚¨çš„PBLS VRæ•™å­¸å¹³å°å°‡æ“æœ‰å®Œæ•´çš„å³æ™‚æ•¸æ“šåŒæ­¥åŠŸèƒ½ï¼** ğŸ‰
